# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ YandexGPT API

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ YandexGPT:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ –†–æ—Å—Å–∏–∏ –±–µ–∑ VPN
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –ù–∞–¥–µ–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å –æ—Ç –Ø–Ω–¥–µ–∫—Å–∞

## –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –≤ Yandex Cloud

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://cloud.yandex.ru
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ (folder) –≤ –æ–±–ª–∞–∫–µ
3. –ü–æ–ª—É—á–∏—Ç–µ **Folder ID** (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞)

## –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏

1. –í Yandex Cloud –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã"**
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
3. **–í–ê–ñ–ù–û:** –ù–∞–∑–Ω–∞—á—å—Ç–µ —Ä–æ–ª—å –Ω–∞ —É—Ä–æ–≤–Ω–µ **–∫–∞—Ç–∞–ª–æ–≥–∞ (folder)**, –∞ –Ω–µ –æ–±–ª–∞–∫–∞:
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∫–∞—Ç–∞–ª–æ–≥
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞"** –∫–∞—Ç–∞–ª–æ–≥–∞
   - –ù–∞–∂–º–∏—Ç–µ **"–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª–∏"**
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
   - –ù–∞–∑–Ω–∞—á—å—Ç–µ —Ä–æ–ª—å: **"ai.languageModels.user"** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
   - –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å **"editor"** –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
4. –°–æ–∑–¥–∞–π—Ç–µ **API –∫–ª—é—á** –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ö–ª—é—á–∏"**
   - –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á"** ‚Üí **"–°–æ–∑–¥–∞—Ç—å API-–∫–ª—é—á"**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á - –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
YANDEX_API_KEY=–≤–∞—à_api_–∫–ª—é—á_–æ—Ç_yandex_cloud
YANDEX_FOLDER_ID=–≤–∞—à_folder_id
```

**–ì–¥–µ –Ω–∞–π—Ç–∏ Folder ID:**
- –í Yandex Cloud –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –∫–∞—Ç–∞–ª–æ–≥
- Folder ID –±—É–¥–µ—Ç –≤ URL –∏–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞—Ç–∞–ª–æ–≥–∞
- –û–±—ã—á–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫: `b1gxxxxxxxxxxxxxxxxxxxxx`

## –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
node server-local.js
```

## –®–∞–≥ 5: –î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Vercel

1. –í Vercel: Settings ‚Üí Environment Variables
2. –î–æ–±–∞–≤—å—Ç–µ:
   - **YANDEX_API_KEY** = –≤–∞—à API –∫–ª—é—á
   - **YANDEX_FOLDER_ID** = –≤–∞—à Folder ID
3. –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

## –ú–æ–¥–µ–ª–∏ YandexGPT:

- `yandexgpt/latest` - –ø–æ–ª–Ω–∞—è –º–æ–¥–µ–ª—å (–ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- `yandexgpt/lite` - –ª–µ–≥–∫–∞—è –º–æ–¥–µ–ª—å (–±—ã—Å—Ç—Ä–µ–µ, –¥–µ—à–µ–≤–ª–µ)

–í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `yandexgpt/latest`. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `modelUri` –≤ `server-local.js` –∏ `api/chat.js`.

## –°—Ç–æ–∏–º–æ—Å—Ç—å:

- Yandex Cloud –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –Ω–∞ https://cloud.yandex.ru/prices

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É 403 "PermissionDenied"

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É:
```
PermissionDenied desc = Permission to [resource-manager.folder ...] denied
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–æ–ª—å `ai.languageModels.user` –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ **–Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞—Ç–∞–ª–æ–≥–∞**, –∞ –Ω–µ –æ–±–ª–∞–∫–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –Ω—É–∂–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–≥—É
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å `editor` –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞—Ç–∞–ª–æ–≥–∞
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Folder ID

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞:**
- –í Yandex Cloud: –ö–∞—Ç–∞–ª–æ–≥ ‚Üí –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ —Å —Ä–æ–ª—å—é `ai.languageModels.user`

## –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ YandexGPT! üéâ
