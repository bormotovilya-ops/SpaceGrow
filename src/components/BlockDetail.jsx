import React, { useState, useEffect, useRef } from 'react'
import Header from './Header'
import './BlockDetail.css'

// –î–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü –∏–∑ —Ñ–∞–π–ª–∞ "–¢–∞–±–ª–∏—Ü—ã –∞—É–¥–∏—Ç–æ—Ä–∏—è.txt"
const tableData = {
  // –¢–µ—Å—Ç–æ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
  'traffic': {
    id: 'traffic',
    title: '–¢–∞–±–ª–∏—Ü–∞ 1. –¢—Ä–∞—Ñ–∏–∫ (—Ç–µ—Å—Ç–æ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è)',
    table: [
      { source: '–Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç', what: '–ü–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ –ø–µ—Ä–≤–æ–º —ç–∫—Ä–∞–Ω–µ –ø—Ä–µ–ª–µ–Ω–¥–∏–Ω–≥–∞', results: '–û—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –≤—Ö–æ–¥ ‚Äî —á–∏—Ç–∞–µ—Ç ‚â•50% —ç–∫—Ä–∞–Ω–∞, –ª–æ–≥–∏—á–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—É—Ç—å\n–°–ª—É—á–∞–π–Ω—ã–π –≤—Ö–æ–¥ ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–æ–ª–ª / –≤—ã—Ö–æ–¥', meaning: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—à—ë–ª —Å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ / ‚Ü∫ –°–º–µ–Ω–∏—Ç—å –ø–æ–¥–∞—á—É / ‚Ü∫ –ü–æ–Ω–∏–∑–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤ / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –°—Ç–æ–ø' },
      { source: 'VK –†–µ–∫–ª–∞–º–∞', what: '–†–µ–∞–∫—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–º—ã—Å–ª –∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É', results: '–ó–∞—Ü–µ–ø–∏–ª—Å—è ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å\n–ù–µ –∑–∞—Ü–µ–ø–∏–ª—Å—è ‚Äî –∑–∞–∫—Ä—ã–≤–∞–µ—Ç', meaning: '–ö—Ä–µ–∞—Ç–∏–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ø–∞–ª–∏ –≤ –æ–∂–∏–¥–∞–Ω–∏—è', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ / ‚Ü∫ –°–º–µ–Ω–∏—Ç—å –ø–æ–¥–∞—á—É / ‚Ü∫ –ü–æ–Ω–∏–∑–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤ / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –°—Ç–æ–ø' },
      { source: 'Telegram-–∫–∞–Ω–∞–ª—ã', what: '–ì–ª—É–±–∏–Ω–∞ –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞', results: '–¢—ë–ø–ª—ã–π ‚Äî –ø—Ä–æ—Ö–æ–¥–∏—Ç ‚â•2 —à–∞–≥–æ–≤\n–•–æ–ª–æ–¥–Ω—ã–π ‚Äî –æ—Ç–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É', meaning: '–ö–∞–Ω–∞–ª –¥–∞—ë—Ç –∞—É–¥–∏—Ç–æ—Ä–∏—é, –≥–æ—Ç–æ–≤—É—é –∫ –∞–Ω–∞–ª–∏–∑—É', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ / ‚Ü∫ –°–º–µ–Ω–∏—Ç—å –ø–æ–¥–∞—á—É / ‚Ü∫ –ü–æ–Ω–∏–∑–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤ / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –°—Ç–æ–ø' },
      { source: '–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏', what: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –≤—Å—Ç—É–ø–∏—Ç—å –≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ', results: '–ò–Ω—Ç–µ—Ä–µ—Å ‚Äî —á–∏—Ç–∞–µ—Ç, –æ—Ç–≤–µ—á–∞–µ—Ç\n–†–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ ‚Äî –ø—Ä–æ–ª–∏—Å—Ç—ã–≤–∞–µ—Ç', meaning: '–ö–∞–Ω–∞–ª –¥–∞—ë—Ç —à—É–º –∏–ª–∏ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ / ‚Ü∫ –°–º–µ–Ω–∏—Ç—å –ø–æ–¥–∞—á—É / ‚Ü∫ –ü–æ–Ω–∏–∑–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤ / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –°—Ç–æ–ø' },
      { source: 'Email / –±–∞–∑–∞', what: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –≤—Å—Ç—É–ø–∏—Ç—å –≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ', results: '–õ–æ—è–ª—å–Ω—ã–π ‚Äî –∫–ª–∏–∫–∞–µ—Ç –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç\n–ü–∞—Å—Å–∏–≤–Ω—ã–π ‚Äî –∏–≥–Ω–æ—Ä', meaning: '–ï—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ —Ç–µ–º–µ', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ / ‚Ü∫ –°–º–µ–Ω–∏—Ç—å –ø–æ–¥–∞—á—É / ‚Ü∫ –ü–æ–Ω–∏–∑–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤ / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –°—Ç–æ–ø' },
      { source: '–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã', what: '–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–Ω–∏–π', results: '–°–æ–≤–ø–∞–ª–æ –æ–∂–∏–¥–∞–Ω–∏–µ ‚Äî –∏–¥—ë—Ç –¥–∞–ª—å—à–µ\n–ù–µ —Å–æ–≤–ø–∞–ª–æ ‚Äî —Ä–µ–∑–∫–∏–π –≤—ã—Ö–æ–¥', meaning: '–ó–∞–ø—Ä–æ—Å –∏ –≥–∏–ø–æ—Ç–µ–∑–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–µ–∑–æ–Ω–∞–Ω—Å–µ', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ / ‚Ü∫ –°–º–µ–Ω–∏—Ç—å –ø–æ–¥–∞—á—É / ‚Ü∫ –ü–æ–Ω–∏–∑–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤ / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –°—Ç–æ–ø' },
      { source: '–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏', what: '–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–Ω–∏–π', results: '–°–æ–≤–ø–∞–ª–æ –æ–∂–∏–¥–∞–Ω–∏–µ ‚Äî –∏–¥—ë—Ç –¥–∞–ª—å—à–µ\n–ù–µ —Å–æ–≤–ø–∞–ª–æ ‚Äî —Ä–µ–∑–∫–∏–π –≤—ã—Ö–æ–¥', meaning: '–°–º—ã—Å–ª –Ω–µ —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–ª–∏ –Ω–µ —Ä–µ–∑–æ–Ω–∏—Ä—É–µ—Ç', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ / ‚Ü∫ –°–º–µ–Ω–∏—Ç—å –ø–æ–¥–∞—á—É / ‚Ü∫ –ü–æ–Ω–∏–∑–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤ / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –°—Ç–æ–ø' }
    ],
    conclusion: '–ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º, –∞ –∫–∞–∫–∏–µ —Å–æ–∑–¥–∞—é—Ç —à—É–º –∏ –∏—Å–∫–∞–∂–∞—é—Ç –∫–∞—Ä—Ç–∏–Ω—É –≥–∏–ø–æ—Ç–µ–∑—ã. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤—Ö–æ–¥–∞, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ–¥–∞—á–∏ –∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞.'
  },
  'prelanding': {
    id: 'prelanding',
    title: '–¢–∞–±–ª–∏—Ü–∞ 2. –ü—Ä–µ–ª–µ–Ω–¥–∏–Ω–≥ ‚Äî —Ç–æ—á–∫–∞ –ø—Ä–∏—ë–º–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞',
    table: [
      { what: '–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å—É—Ç–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è', results: '–°—Ä–∞–∑—É –ø–æ–Ω—è–ª ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –ª–æ–≥–∏—á–Ω–æ –∏ –ø–æ —Ç–µ–º–µ\n–ù–µ –ø–æ–Ω—è–ª ‚Äî —Å–ª—É—á–∞–π–Ω—ã–µ –∏–ª–∏ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã', meaning: '–Ø—Å–Ω–æ—Å—Ç—å –∏–ª–∏ —Ä–∞–∑–º—ã—Ç–æ—Å—Ç—å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫', decision: '‚Ü∫ –£–ø—Ä–æ—Å—Ç–∏—Ç—å / ‚Ü∫ –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å —Å–º—ã—Å–ª / ‚û°Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç' },
      { what: '–°—á–∏—Ç—ã–≤–∞–µ–º–æ—Å—Ç—å —Å–º—ã—Å–ª–∞', results: '–°—Ä–∞–∑—É –ø–æ–Ω—è–ª ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –ª–æ–≥–∏—á–Ω–æ –∏ –ø–æ —Ç–µ–º–µ\n–ù–µ –ø–æ–Ω—è–ª ‚Äî —Å–ª—É—á–∞–π–Ω—ã–µ –∏–ª–∏ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã', meaning: '–Ø—Å–Ω–æ—Å—Ç—å –∏–ª–∏ —Ä–∞–∑–º—ã—Ç–æ—Å—Ç—å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫', decision: '‚Ü∫ –£–ø—Ä–æ—Å—Ç–∏—Ç—å / ‚Ü∫ –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å —Å–º—ã—Å–ª / ‚û°Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç' },
      { what: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å', results: '–ì–æ—Ç–æ–≤ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ ‚Äî –∫–ª–∏–∫–∞–µ—Ç –±–µ–∑ –ø–∞—É–∑\n–ù–µ –≥–æ—Ç–æ–≤ ‚Äî –∑–∞–≤–∏—Å–∞–µ—Ç / –≤—ã—Ö–æ–¥–∏—Ç', meaning: '–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏–π —Å —Ä–µ–∞–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º', decision: '‚Ü∫ –£–ø—Ä–æ—Å—Ç–∏—Ç—å / ‚Ü∫ –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å —Å–º—ã—Å–ª / ‚û°Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç' },
      { what: '–ö–æ–º—Ñ–æ—Ä—Ç —Ñ–æ—Ä–º–∞—Ç–∞', results: '–§–æ—Ä–º–∞—Ç –æ–∫ ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–ø–æ–∫–æ–π–Ω–æ\n–§–æ—Ä–º–∞—Ç —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç ‚Äî –∑–∞–∫—Ä—ã–≤–∞–µ—Ç', meaning: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∫ –¥–∏–∞–ª–æ–≥—É', decision: '‚Ü∫ –£–ø—Ä–æ—Å—Ç–∏—Ç—å / ‚Ü∫ –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å —Å–º—ã—Å–ª / ‚û°Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç' },
      { what: '–ü–µ—Ä–≤–∏—á–Ω–æ–µ –¥–æ–≤–µ—Ä–∏–µ', results: '–î–æ–≤–µ—Ä—è–µ—Ç ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç —á–µ—Å—Ç–Ω–æ\n–ù–µ–¥–æ–≤–µ—Ä–∏–µ ‚Äî —Å–∫–∏–ø—ã, –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã', meaning: '–£—Ä–æ–≤–µ–Ω—å –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –¥–æ–≤–µ—Ä–∏—è', decision: '‚Ü∫ –£–ø—Ä–æ—Å—Ç–∏—Ç—å / ‚Ü∫ –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å / ‚Ü∫ –£—Å–∏–ª–∏—Ç—å —Å–º—ã—Å–ª / ‚û°Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç' }
    ],
    conclusion: '–ü—Ä–µ–ª–µ–Ω–¥–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–æ–ª—å –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ —Å–º—ã—Å–ª–æ–≤–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫, –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ, –∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ –æ–Ω–æ —Å –æ–∂–∏–¥–∞–Ω–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–Ω—è—Ç—å, –ø—Ä–æ–±–ª–µ–º–∞ –ª–∏ –≤ –≥–∏–ø–æ—Ç–µ–∑–µ, —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç–µ –ø–æ–¥–∞—á–∏, –∏ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ ‚Äî —É–≥–ª—É–±–ª—è—Ç—å –∞–Ω–∞–ª–∏–∑ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏–ª–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Ä–∞–Ω–Ω–µ–º —ç—Ç–∞–ø–µ, –Ω–µ –∏—Å–∫–∞–∂–∞—è –¥–∞–Ω–Ω—ã–µ —Å–ª–µ–¥—É—é—â–∏—Ö –±–ª–æ–∫–æ–≤.'
  },
  'analysis': {
    id: 'analysis',
    title: '–¢–∞–±–ª–∏—Ü–∞ 3. –ê–Ω–∞–ª–∏–∑ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (—Ç–µ—Å—Ç–æ–≤–∞—è)',
    table: [
      { what: '–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞', results: '–û—Å–æ–∑–Ω–∞–Ω–Ω—ã–π ‚Äî —á—ë—Ç–∫–æ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∏ –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞\n–†–∞–∑–º—ã—Ç—ã–π ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ, —É—Ö–æ–¥–∏—Ç –æ—Ç —Å—É—Ç–∏', meaning: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥—É–∫—Ç—É', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –û—Å—Ç–∞–≤–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É / ‚õî –§–∏–ª—å—Ç—Ä / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫' },
      { what: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã', results: '–û—Å–æ–∑–Ω–∞–Ω–Ω—ã–π ‚Äî —á—ë—Ç–∫–æ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∏ –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞\n–†–∞–∑–º—ã—Ç—ã–π ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ, —É—Ö–æ–¥–∏—Ç –æ—Ç —Å—É—Ç–∏', meaning: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥—É–∫—Ç—É', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –û—Å—Ç–∞–≤–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É / ‚õî –§–∏–ª—å—Ç—Ä / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫' },
      { what: '–£—Ä–æ–≤–µ–Ω—å –±–æ–ª–∏ / –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏', results: '–í—ã—Å–æ–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å ‚Äî –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å\n–ù–∏–∑–∫–∞—è ‚Äî ¬´–ø—Ä–æ—Å—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª', meaning: '–°–∏–ª–∞ –º–æ—Ç–∏–≤–∞—Ü–∏–∏', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –û—Å—Ç–∞–≤–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É / ‚õî –§–∏–ª—å—Ç—Ä / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫' },
      { what: '–¢–∏–ø –º—ã—à–ª–µ–Ω–∏—è', results: '–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π ‚Äî —Ä–∞—Å—Å—É–∂–¥–∞–µ—Ç, —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç\n–ò–º–ø—É–ª—å—Å–∏–≤–Ω—ã–π ‚Äî –∫–ª–∏–∫–∞–µ—Ç –±–µ–∑ –ª–æ–≥–∏–∫–∏', meaning: '–¢–∏–ø –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –û—Å—Ç–∞–≤–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É / ‚õî –§–∏–ª—å—Ç—Ä / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫' },
      { what: '–Ø–∑—ã–∫ –∏ –ª–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫', results: '–Ø–∑—ã–∫ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—Ä–æ–¥—É–∫—Ç–æ–º\n–ù–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç', meaning: '–†–µ–∑–æ–Ω–∞–Ω—Å —Å–º—ã—Å–ª–∞ –ø—Ä–æ–¥—É–∫—Ç–∞', decision: '‚û°Ô∏è –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / ‚Ü∫ –ü—Ä–æ–≥—Ä–µ–≤ / ‚õî –û—Å—Ç–∞–≤–∏—Ç—å / ‚õî –û—Ç—Å–µ—á—å / ‚Ü∫ –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É / ‚õî –§–∏–ª—å—Ç—Ä / ‚Ü∫ –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫' }
    ],
    conclusion: '–ê–Ω–∞–ª–∏–∑ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —ç—Ç–∞–ø–µ –≤—ã—è–≤–ª—è–µ—Ç –Ω–µ ¬´–∫—Ç–æ —ç—Ç–∏ –ª—é–¥–∏¬ª, –∞ –∫–∞–∫ –æ–Ω–∏ –¥—É–º–∞—é—Ç –∏ —á–µ–≥–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ö–æ—Ç—è—Ç. –ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Å–Ω–æ, –µ—Å—Ç—å –ª–∏ —É –∞—É–¥–∏—Ç–æ—Ä–∏–∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –º–æ—Ç–∏–≤–∞—Ü–∏—è –∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ –µ—ë —è–∑—ã–∫ —Å –ª–æ–≥–∏–∫–æ–π –ø—Ä–æ–¥—É–∫—Ç–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —Ü–µ–ª–µ–≤—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –∏ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ ‚Äî –≥–∏–ø–æ—Ç–µ–∑–∞, —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è.'
  },
  'routing': {
    id: 'routing',
    title: '–¢–∞–±–ª–∏—Ü–∞ 4. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (—Ç–µ—Å—Ç–æ–≤–∞—è)',
    table: [
      { what: '–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ –æ—Ç–≤–µ—Ç–∞–º', results: '–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ ‚Äî –ª–æ–≥–∏—á–Ω—ã–µ –≤—ã–±–æ—Ä—ã\n–•–∞–æ—Ç–∏—á–Ω–æ–µ ‚Äî —Å–ª—É—á–∞–π–Ω—ã–µ –∫–ª–∏–∫–∏', meaning: '–¢–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', decision: '–í–µ—Ç–∫–∞ –ê / –í–µ—Ç–∫–∞ B' },
      { what: '–°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è', results: '–†–æ–≤–Ω–∞—è ‚Äî –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏–π\n–†–≤–∞–Ω–∞—è ‚Äî –ø–∞—É–∑—ã, –≤–æ–∑–≤—Ä–∞—Ç—ã', meaning: '–£—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏', decision: '–£–ø—Ä–æ—Å—Ç–∏—Ç—å / –û—Å—Ç–∞–≤–∏—Ç—å' },
      { what: '–†–µ–∞–∫—Ü–∏—è –Ω–∞ —É—Ç–æ—á–Ω–µ–Ω–∏—è', results: '–í–æ–≤–ª–µ–∫–∞–µ—Ç—Å—è ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–µ–µ\n–°–∫–∏–ø–∞–µ—Ç ‚Äî –∏–∑–±–µ–≥–∞–µ—Ç', meaning: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —É–≥–ª—É–±–ª–µ–Ω–∏—é', decision: '–£–≥–ª—É–±–∏—Ç—å / –°–æ–∫—Ä–∞—Ç–∏—Ç—å' },
      { what: '–°–∞–º–æ–æ—Ç—Å–µ–≤', results: '–°–∞–º –≤—ã—Ö–æ–¥–∏—Ç –Ω–∞ —Ä–∞–Ω–Ω–µ–º —ç—Ç–∞–ø–µ\n–î–æ—Ö–æ–¥–∏—Ç –¥–æ –∫–æ–Ω—Ü–∞', meaning: '–ê–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞', decision: '–ù–æ—Ä–º–∞ / –£—Å–∏–ª–∏—Ç—å' }
    ],
    conclusion: '–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø—É—Ç—è–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏—è, —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —É–≥–ª—É–±–ª–µ–Ω–∏—é. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç—å –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–µ—Ä–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∞–Ω–∞–ª–∏–∑–∞.'
  },
  'hypothesis': {
    id: 'hypothesis',
    title: '–¢–∞–±–ª–∏—Ü–∞ 5. –í—ã–≤–æ–¥ –ø–æ –≥–∏–ø–æ—Ç–µ–∑–µ',
    table: [
      { what: '–ö–∞—á–µ—Å—Ç–≤–æ —Ç—Ä–∞—Ñ–∏–∫–∞', results: '–ì–∏–ø–æ—Ç–µ–∑–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞', meaning: '–ï—Å—Ç—å / –Ω–µ—Ç —Ä—ã–Ω–æ–∫', decision: '‚û°Ô∏è –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–¥—ç—Ç–∞–ø—É ¬´–†–∞–±–æ—á–∏–π¬ª' },
      { what: '–†–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ø—Ä–µ–ª–µ–Ω–¥–∏–Ω–≥', results: '–ß–∞—Å—Ç–∏—á–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞', meaning: '–ï—Å—Ç—å / –Ω–µ—Ç —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è', decision: '‚Ü∫ –î–æ—Ä–∞–±–æ—Ç–∫–∞ –≥–∏–ø–æ—Ç–µ–∑—ã' },
      { what: '–•–∞—Ä–∞–∫—Ç–µ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏', results: '–ù–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞', meaning: '–ï—Å—Ç—å / –Ω–µ—Ç —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è', decision: '‚õî –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞' },
      { what: '–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏', results: '–ì–∏–ø–æ—Ç–µ–∑–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞', meaning: '–ï—Å—Ç—å / –Ω–µ—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª', decision: '‚û°Ô∏è –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–¥—ç—Ç–∞–ø—É ¬´–†–∞–±–æ—á–∏–π¬ª' }
    ],
    conclusion: '–ü–æ–¥—ç—Ç–∞–ø ¬´–¢–µ—Å—Ç–æ–≤—ã–π¬ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–º —Ä–µ—à–µ–Ω–∏–µ–º, –∞ –Ω–µ –æ—â—É—â–µ–Ω–∏–µ–º. –ù–∞ –æ—Å–Ω–æ–≤–µ —Å–≤—è–∑–∫–∏ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π –≥–∏–ø–æ—Ç–µ–∑—ã: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞, —á–∞—Å—Ç–∏—á–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. –¢–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –≤–æ–∑–º–æ–∂–µ–Ω –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–¥—ç—Ç–∞–ø—É ¬´–†–∞–±–æ—á–∏–π¬ª –∏ –¥–∞–ª—å–Ω–µ–π—à–∏–º —ç—Ç–∞–ø–∞–º –≤–æ—Ä–æ–Ω–∫–∏ –∏ –ø—Ä–æ–¥—É–∫—Ç–∞.'
  },
  // –†–∞–±–æ—á–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
  'traffic-confirmed': {
    id: 'traffic-confirmed',
    title: '–¢–∞–±–ª–∏—Ü–∞ 6. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞',
    table: [
      { what: '–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–∞—á–µ—Å—Ç–≤–∞', results: '–ü–æ–≤—Ç–æ—Ä—è–µ–º–æ –¥–∞—ë—Ç —Ü–µ–ª–µ–≤—ã—Ö\n–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ', meaning: '–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞', decision: '–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å / –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å' },
      { what: '–°—Ç–æ–∏–º–æ—Å—Ç—å –≤–Ω–∏–º–∞–Ω–∏—è', results: '–ê–¥–µ–∫–≤–∞—Ç–Ω–∞—è\n–ó–∞–≤—ã—à–µ–Ω–Ω–∞—è', meaning: '–≠–∫–æ–Ω–æ–º–∏–∫–∞ –≤—Ö–æ–¥–∞', decision: '–û—Å—Ç–∞–≤–∏—Ç—å / –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å' },
      { what: '–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ—Å—Ç—å', results: '–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –ø–æ—Ç–æ–∫\n–°–ª—É—á–∞–π–Ω—ã–π', meaning: '–£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å', decision: '–í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç / –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç' },
      { what: '–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–æ–¥—É–∫—Ç–æ–º', results: '–•–æ—Ä–æ—à–æ –ª–æ–∂–∏—Ç—Å—è\n–ö–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç', meaning: '–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ—Å—Ç—å', decision: '–ó–∞–∫—Ä–µ–ø–∏—Ç—å / –ò—Å–∫–ª—é—á–∏—Ç—å' }
    ],
    conclusion: '–†–∞–±–æ—Ç–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, —ç–∫–æ–Ω–æ–º–∏–∫–µ –∏ —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç–∏. –ö–∞–Ω–∞–ª—ã, –ø–æ–∫–∞–∑–∞–≤—à–∏–µ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–æ–¥—É–∫—Ç–æ–º, –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –∏ –∑–∞–∫—Ä–µ–ø–ª—è—é—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ. –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è –∏–ª–∏ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è.'
  },
  'segments-confirmed': {
    id: 'segments-confirmed',
    title: '–¢–∞–±–ª–∏—Ü–∞ 7. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏',
    table: [
      { what: '–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ', results: '–ü–æ–≤—Ç–æ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤\n–†–∞–∑–±—Ä–æ—Å', meaning: '–ß—ë—Ç–∫–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∞', decision: '–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å / –£–∫—Ä—É–ø–Ω–∏—Ç—å' },
      { what: '–¶–µ–Ω–Ω–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∞', results: '–í—ã—Å–æ–∫–∏–π –∏–Ω—Ç–µ—Ä–µ—Å\n–°–ª–∞–±–∞—è –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å', meaning: '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª', decision: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç / –í—Ç–æ—Ä–∏—á–Ω—ã–π' },
      { what: '–ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞', results: '–ü–æ–Ω–∏–º–∞—é—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π\n–ù—É–∂–¥–∞—é—Ç—Å—è –≤ –æ–±—ä—è—Å–Ω–µ–Ω–∏–∏', meaning: '–ó—Ä–µ–ª–æ—Å—Ç—å', decision: '–û—Å–Ω–æ–≤–Ω–æ–π / –ü—Ä–æ–≥—Ä–µ–≤' },
      { what: '–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å', results: '–ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å\n–£–∑–∫–∏–π', meaning: '–†–æ—Å—Ç', decision: '–ú–∞—Å—à—Ç–∞–± / –ù–∏—à–∞' }
    ],
    conclusion: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É—é—Ç—Å—è —É—Å—Ç–æ–π—á–∏–≤—ã–º–∏ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –∏ —á—ë—Ç–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π. –ê–Ω–∞–ª–∏–∑ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–µ–≥–º–µ–Ω—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ–≤–∞ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∂–µ–π.'
  },
  'routing-segments': {
    id: 'routing-segments',
    title: '–¢–∞–±–ª–∏—Ü–∞ 8. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (—Ä–∞–±–æ—á–∞—è)',
    table: [
      { what: '–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—É—Ç–µ–π', results: '–°–µ–≥–º–µ–Ω—Ç –∏–¥—ë—Ç ¬´—Å–≤–æ–∏–º¬ª –ø—É—Ç—ë–º\n–ü—É—Ç–∞–µ—Ç—Å—è', meaning: '–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ª–æ–≥–∏–∫–∏', decision: '–ó–∞–∫—Ä–µ–ø–∏—Ç—å / –ü–µ—Ä–µ–ø—Ä–æ–µ–∫—Ç' },
      { what: '–ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø—É—Ç—å', results: '–ü—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è\n–£—Å—Ç–∞–ª–æ—Å—Ç—å', meaning: '–î–ª–∏–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∞', decision: '–£–ø—Ä–æ—Å—Ç–∏—Ç—å / –û—Å—Ç–∞–≤–∏—Ç—å' },
      { what: '–ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º', results: '–û—Ç–ª–∏—á–∞–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ\n–ü—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω–∞', meaning: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–µ–≥–º–µ–Ω—Ç–æ–≤', decision: '–§–æ–∫—É—Å / –í—Ç–æ—Ä–∏—á–Ω–æ' },
      { what: '–û—à–∏–±–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞', results: '–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã\n–°–∏—Å—Ç–µ–º–Ω—ã–µ', meaning: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', decision: '–ò—Å–ø—Ä–∞–≤–∏—Ç—å' }
    ],
    conclusion: '–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–±–æ—á–µ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø—É—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤, –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤—ã—Å–æ–∫—É—é –∫–æ–Ω–≤–µ—Ä—Å–∏—é –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø.'
  },
  'preparation': {
    id: 'preparation',
    title: '–¢–∞–±–ª–∏—Ü–∞ 9. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç—Ç–∞–ø—É ¬´–õ–µ–Ω–¥–∏–Ω–≥ / –í–æ—Ä–æ–Ω–∫–∞¬ª',
    table: [
      { what: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∂–µ', results: '–ó–∞–ø—Ä–æ—Å —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω\n–ó–∞–ø—Ä–æ—Å —Å—ã—Ä–æ–π', meaning: '–≠—Ç–∞–ø –∑—Ä–µ–ª–æ—Å—Ç–∏', decision: '–í –ø—Ä–æ–¥–∞–∂—É / –ü—Ä–æ–≥—Ä–µ–≤' },
      { what: '–Ø—Å–Ω–æ—Å—Ç—å –£–¢–ü', results: '–ß—ë—Ç–∫–æ —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è\n–¢—Ä–µ–±—É–µ—Ç –ø–æ—è—Å–Ω–µ–Ω–∏–π', meaning: '–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞', decision: '–§–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å / –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å' },
      { what: '–û–∂–∏–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', results: '–°–æ–≤–ø–∞–¥–∞—é—Ç —Å –ø—Ä–æ–¥—É–∫—Ç–æ–º\n–ò—Å–∫–∞–∂–µ–Ω—ã', meaning: '–†–∏—Å–∫ –æ—Ç–∫–∞–∑–∞', decision: '–í—ã—Ä–∞–≤–Ω–∏–≤–∞—Ç—å' },
      { what: '–¢–æ—á–∫–∏ —É—Å–∏–ª–µ–Ω–∏—è', results: '–Ø–≤–Ω–æ –≤–∏–¥–Ω—ã\n–ù–µ–æ—á–µ–≤–∏–¥–Ω—ã', meaning: '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è', decision: '–£—Å–∏–ª–∏—Ç—å / –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å' }
    ],
    conclusion: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç—Ç–∞–ø—É ¬´–õ–µ–Ω–¥–∏–Ω–≥ / –í–æ—Ä–æ–Ω–∫–∞¬ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç —ç—Ç–∞–ø ¬´–ê—É–¥–∏—Ç–æ—Ä–∏—è¬ª. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∫ –ø—Ä–æ–¥–∞–∂–µ, —è—Å–Ω–æ—Å—Ç—å –£–¢–ü, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–Ω–∏–π –∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ç–æ—á–∫–∏ –¥–ª—è —É—Å–∏–ª–µ–Ω–∏—è. –¢–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–æ–∑–º–æ–∂–µ–Ω –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ª–µ–Ω–¥–∏–Ω–≥–∞ –∏ –≤–æ—Ä–æ–Ω–∫–∏.'
  }
}

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–≥—Ä–∞–º–º
const testDiagramStructure = {
  nodes: [
    { id: 'traffic', name: '–¢—Ä–∞—Ñ–∏–∫', icon: 'üìä', level: 0 },
    { id: 'prelanding', name: '–ü—Ä–µ–ª–µ–Ω–¥–∏–Ω–≥ ‚Äî —Ç–æ—á–∫–∞ –ø—Ä–∏—ë–º–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞', icon: 'üéØ', level: 1 },
    { id: 'analysis', name: '–ê–Ω–∞–ª–∏–∑ –∞—É–¥–∏—Ç–æ—Ä–∏–∏', icon: 'üîç', level: 2 },
    { id: 'routing', name: '–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è', icon: 'üîÑ', level: 3 },
    { id: 'hypothesis', name: '–í—ã–≤–æ–¥ –ø–æ –≥–∏–ø–æ—Ç–µ–∑–µ', icon: '‚úÖ', level: 4 }
  ]
}

const workDiagramStructure = {
  nodes: [
    { id: 'traffic-confirmed', name: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞', icon: 'üìà', level: 0 },
    { id: 'segments-confirmed', name: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏', icon: 'üë•', level: 1 },
    { id: 'routing-segments', name: '–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤', icon: 'üîÑ', level: 2 },
    { id: 'preparation', name: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç—Ç–∞–ø—É ¬´–õ–µ–Ω–¥–∏–Ω–≥ / –í–æ—Ä–æ–Ω–∫–∞¬ª', icon: 'üöÄ', level: 3 }
  ]
}

function BlockDetail({ block, onBack, onConsultation, onAvatarClick }) {
  const isAudienceBlock = block.id === 'audience'
  const [activeTab, setActiveTab] = useState('test') // 'test' –∏–ª–∏ 'work'
  const [selectedBlockId, setSelectedBlockId] = useState(null)
  const tableRef = useRef(null)
  const diagramBlockRefs = useRef({})

  const handleBlockClick = (blockId) => {
    setSelectedBlockId(selectedBlockId === blockId ? null : blockId)
  }

  // –°–∫—Ä–æ–ª–ª –∫ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–∏ –µ—ë –ø–æ—è–≤–ª–µ–Ω–∏–∏
  useEffect(() => {
    if (selectedBlockId && tableRef.current) {
      setTimeout(() => {
        tableRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' })
      }, 100)
    }
  }, [selectedBlockId])

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ –∫ –±–ª–æ–∫—É –¥–∏–∞–≥—Ä–∞–º–º—ã
  const scrollToDiagramBlock = (blockId) => {
    const blockRef = diagramBlockRefs.current[blockId]
    if (blockRef) {
      blockRef.scrollIntoView({ behavior: 'smooth', block: 'center' })
      // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –±–ª–æ–∫–∞
      setTimeout(() => {
        blockRef.classList.add('highlight')
        setTimeout(() => {
          blockRef.classList.remove('highlight')
        }, 2000)
      }, 300)
    }
  }

  const selectedTableData = selectedBlockId ? tableData[selectedBlockId] : null
  const currentDiagram = activeTab === 'test' ? testDiagramStructure : workDiagramStructure

  const audienceContent = (
    <div className="block-detail-sections">
      {/* –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ */}
      <section className="block-detail-section">
        <div className="audience-intro-layout">
          <div className="audience-intro-text">
            <h2>–≠—Ç–∞–ø ¬´–ê—É–¥–∏—Ç–æ—Ä–∏—è¬ª ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —ç—Ç–∞–ø –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–¥–∞–∂</h2>
            <p>
              üß© –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–¥—É–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞–∫ –≥–∏–ø–æ—Ç–µ–∑–∞: –∏–¥–µ—è, –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ñ–æ—Ä–º–∞—Ç, —Ü–µ–Ω–æ–≤–æ–π –æ—Ä–∏–µ–Ω—Ç–∏—Ä –∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è ‚Äî –±–µ–∑ –∑–∞–ø–∏—Å–∏ —É—Ä–æ–∫–æ–≤, –ª–µ–Ω–¥–∏–Ω–≥–æ–≤ –∏ –≤–æ—Ä–æ–Ω–æ–∫.
            </p>
            <p>
              üéØ –¶–µ–ª—å —ç—Ç–∞–ø–∞ ‚Äî –ø–æ–Ω—è—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ä—ã–Ω–æ–∫, –∫—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–∞—à–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è –∏ –∏–º–µ–µ—Ç –ª–∏ –ø—Ä–æ–µ–∫—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª.
            </p>
            <p>
              –≠—Ç–∞–ø ¬´–ê—É–¥–∏—Ç–æ—Ä–∏—è¬ª —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–æ–¥—ç—Ç–∞–ø–æ–≤:
            </p>
            <p>
              <strong>1Ô∏è‚É£ –¢–µ—Å—Ç–æ–≤—ã–π</strong> ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º –≥–∏–ø–æ—Ç–µ–∑—ã –∏ –ø—Ä–∏–Ω–∏–º–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ;<br />
              <strong>2Ô∏è‚É£ –†–∞–±–æ—á–∏–π</strong> ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –∏ –≥–æ—Ç–æ–≤–∏–º –ø–µ—Ä–µ—Ö–æ–¥ –∫ –≤–æ—Ä–æ–Ω–∫–µ.
            </p>
          </div>
          <div className="audience-image-wrapper" style={{ display: 'none' }}>
            <img src={block.image} alt={block.name} className="audience-side-image" />
            <h1 className="audience-side-title">{block.name}</h1>
          </div>
        </div>
      </section>

      {/* –í–∫–ª–∞–¥–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã */}
      <section className="block-detail-section block-detail-section-fullwidth audience-diagrams-section">
        <div className="audience-tabs">
          <button 
            className={`audience-tab ${activeTab === 'test' ? 'active' : ''}`}
            onClick={() => {
              setActiveTab('test')
              setSelectedBlockId(null)
            }}
          >
            –¢–µ—Å—Ç–æ–≤—ã–π
          </button>
          <button 
            className={`audience-tab ${activeTab === 'work' ? 'active' : ''}`}
            onClick={() => {
              setActiveTab('work')
              setSelectedBlockId(null)
            }}
          >
            –†–∞–±–æ—á–∏–π
          </button>
        </div>

        {activeTab === 'test' && (
          <div className="tab-description">
            <p>–¶–µ–ª—å —ç—Ç–∞–ø–∞: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É –∏ –ø—Ä–∏–Ω—è—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É ‚Äî –≤—ã—è–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Å–ø—Ä–æ—Å –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ–æ–±—Ö–æ–¥–∏–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–ª–∏ –≤—ã—Ö–æ–¥–µ –Ω–∞ –Ω–æ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é).</p>
            <p>–ù–∏–∂–µ –ø–æ–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –ø–æ–¥—ç—Ç–∞–ø–∞ ‚Äî –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç –∞—É–¥–∏—Ç–æ—Ä–∏—è –æ—Ç –≤—Ö–æ–¥–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ –¥–æ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞ –ø–æ –≥–∏–ø–æ—Ç–µ–∑–µ.</p>
          </div>
        )}

        {activeTab === 'work' && (
          <div className="tab-description">
            <p><strong>–¶–µ–ª—å:</strong> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–¥–∞–∂ ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ã, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ª–µ–Ω–¥–∏–Ω–≥–∞ –∏ –≤–æ—Ä–æ–Ω–∫–∏ (–Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π).</p>
            <p><strong>–†–µ–∂–∏–º:</strong> —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π.</p>
            <p><strong>–ò—Ç–æ–≥:</strong> –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —ç—Ç–∞–ø—É ¬´–õ–µ–Ω–¥–∏–Ω–≥ / –í–æ—Ä–æ–Ω–∫–∞¬ª.</p>
          </div>
        )}

        {/* –î–∏–∞–≥—Ä–∞–º–º–∞ */}
        <div className="audience-diagram">
          {currentDiagram.nodes.map((node, index) => {
            const isLast = index === currentDiagram.nodes.length - 1
            
            return (
              <React.Fragment key={node.id}>
                {/* –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ */}
                <div className="audience-diagram-node-wrapper">
                  <div
                    ref={(el) => {
                      if (el) diagramBlockRefs.current[node.id] = el
                    }}
                    className={`audience-diagram-block ${selectedBlockId === node.id ? 'selected' : ''}`}
                    onClick={() => handleBlockClick(node.id)}
                  >
                    <div className="diagram-block-icon">{node.icon}</div>
                    <div className="diagram-block-name">{node.name}</div>
                  </div>
                  
                  {/* –°—Ç—Ä–µ–ª–∫–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É */}
                  {!isLast && (
                    <div className="audience-diagram-arrow">
                      <svg width="20" height="30" viewBox="0 0 20 30">
                        <line 
                          x1="10" 
                          y1="0" 
                          x2="10" 
                          y2="25" 
                          stroke="#ffffff" 
                          strokeWidth="2"
                          strokeOpacity="0.8"
                          markerEnd={`url(#arrowhead-audience-${index})`}
                        />
                        <defs>
                          <marker 
                            id={`arrowhead-audience-${index}`}
                            markerWidth="10" 
                            markerHeight="10" 
                            refX="10" 
                            refY="5" 
                            orient="auto"
                          >
                            <polygon points="0 0, 10 5, 0 10" fill="#ffffff" fillOpacity="0.8" />
                          </marker>
                        </defs>
                      </svg>
                    </div>
                  )}
                </div>
              </React.Fragment>
            )
          })}
        </div>

        {/* –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –±–ª–æ–∫–∞ */}
        {selectedTableData && (
          <div className="audience-table-container" ref={tableRef}>
            <h3 className="audience-table-title">{selectedTableData.title}</h3>
            
            {/* –í—ã–≤–æ–¥ –ø–æ —Ç–∞–±–ª–∏—Ü–µ - –ø–µ—Ä–µ–¥ —Ç–∞–±–ª–∏—Ü–∞–º–∏ */}
            {selectedTableData.conclusion && (
              <div className="table-conclusion table-conclusion-before">
                <p>{selectedTableData.conclusion}</p>
              </div>
            )}
            
            {/* –ö–∞—Ä—Ç–æ—á–∫–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ */}
            {(() => {
              // –°–æ–±–∏—Ä–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞
              const hasSource = selectedTableData.id === 'traffic'
              
              // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ—Ö–æ–∂–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º (—Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–æ 3-4 —Å—Ç—Ä–æ–∫ —Å –ø–æ–ª–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º)
              const mergeSimilar = (arr, fieldType = '') => {
                const uniqueArr = Array.from(new Set(arr))
                if (uniqueArr.length <= 4) return uniqueArr
                
                // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ—Ö–æ–∂–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                const grouped = new Map()
                
                uniqueArr.forEach(item => {
                  const lowerItem = item.toLowerCase()
                  let key = null // –ö–ª—é—á –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
                  
                  // –õ–æ–≥–∏–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—è "what" (–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º)
                  // –ë–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–Ω—å—à–µ
                  if (lowerItem.includes('–≥–ª—É–±–∏–Ω–∞') && lowerItem.includes('–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è')) {
                    key = 'group_depth'
                  } else if (lowerItem.includes('–ø–æ–≤–µ–¥–µ–Ω–∏–µ') || lowerItem.includes('–∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç—å')) {
                    key = 'group_behavior'
                  } else if (lowerItem.includes('—Ä–µ–∞–∫—Ü–∏—è')) {
                    key = 'group_reaction'
                  } else if (lowerItem.includes('–Ω–∞–º–µ—Ä–µ–Ω–∏–µ')) {
                    key = 'group_intention'
                  } else if (lowerItem.includes('—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ') || lowerItem.includes('–æ–∂–∏–¥–∞–Ω–∏–π')) {
                    key = 'group_expectation'
                  } else if (lowerItem.includes('–ø–æ–Ω–∏–º–∞–Ω–∏–µ')) {
                    key = 'group_understanding'
                  } else if (lowerItem.includes('–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å')) {
                    key = 'group_readiness'
                  } else if (lowerItem.includes('—Ñ–æ—Ä–º–∞—Ç')) {
                    key = 'group_format'
                  } else if (lowerItem.includes('–¥–æ–≤–µ—Ä–∏–µ') || lowerItem.includes('—Å–∫–µ–ø—Å–∏—Å')) {
                    key = 'group_trust'
                  } else if (lowerItem.includes('–æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å')) {
                    key = 'group_awareness'
                  } else if (lowerItem.includes('—É—Ä–æ–≤–µ–Ω—å') || (lowerItem.includes('–±–æ–ª–∏') && lowerItem.includes('–∏–Ω—Ç–µ—Ä–µ—Å'))) {
                    key = 'group_level'
                  } else if (lowerItem.includes('—Å–ø–æ—Å–æ–±') && lowerItem.includes('–º—ã—à–ª–µ–Ω–∏—è')) {
                    key = 'group_thinking'
                  } else if (lowerItem.includes('—è–∑—ã–∫') || lowerItem.includes('—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏')) {
                    key = 'group_language'
                  } else if (lowerItem.includes('–∫–∞—á–µ—Å—Ç–≤–æ')) {
                    key = 'group_quality'
                  } else if (lowerItem.includes('–ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å') || lowerItem.includes('–ø–∞—Ç—Ç–µ—Ä–Ω')) {
                    key = 'group_patterns'
                  }
                  
                  // –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—É—é –≥—Ä—É–ø–ø—É
                  if (!key) {
                    key = `group_${item.toLowerCase().replace(/\s+/g, '_')}`
                  }
                  
                  if (!grouped.has(key)) {
                    grouped.set(key, [])
                  }
                  grouped.get(key).push(item)
                })
                
                // –û–±—ä–µ–¥–∏–Ω—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –≥—Ä—É–ø–ø–∞—Ö —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
                const merged = Array.from(grouped.values()).map(group => {
                  return group.join(', ')
                })
                
                // –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –±–æ–ª—å—à–µ 4 —Å—Ç—Ä–æ–∫, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è–µ–º
                if (merged.length > 4) {
                  // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 3 –≥—Ä—É–ø–ø—ã –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ
                  const result = merged.slice(0, 3)
                  const rest = merged.slice(3).join(', ')
                  if (rest) {
                    result.push(rest)
                  }
                  return result
                }
                
                return merged.sort()
              }
              
              // –î–ª—è source (—Ç–æ–ª—å–∫–æ –¥–ª—è traffic)
              const sourceSet = hasSource 
                ? new Set(selectedTableData.table.map(row => row.source).filter(Boolean))
                : new Set()
              const sourceValues = mergeSimilar(Array.from(sourceSet)).sort()
              
              // –î–ª—è what
              const whatSet = new Set(selectedTableData.table.map(row => row.what))
              const whatValues = mergeSimilar(Array.from(whatSet), 'what')
              
              // –î–ª—è results (—Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫)
              const resultsSet = new Set(selectedTableData.table.map(row => row.results))
              const resultsValues = mergeSimilar(Array.from(resultsSet), 'results')
              
              // –î–ª—è meaning
              const meaningSet = new Set(selectedTableData.table.map(row => row.meaning))
              const meaningValues = mergeSimilar(Array.from(meaningSet), 'meaning')
              
              // –î–ª—è decision - –æ–±—ä–µ–¥–∏–Ω—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ "/" —Å —ç–º–æ–¥–∑–∏
              const decisionSet = new Set(selectedTableData.table.map(row => row.decision))
              const decisionText = (() => {
                // –ò–∑–≤–ª–µ–∫–∞–µ–º –≤—Å–µ —Å–ª–æ–≤–∞/—Ñ—Ä–∞–∑—ã –∏–∑ —Ä–µ—à–µ–Ω–∏–π —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —ç–º–æ–¥–∑–∏
                const words = new Set()
                decisionSet.forEach(decision => {
                  // –†–∞–∑–±–∏–≤–∞–µ–º –ø–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º: /, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —ç–º–æ–¥–∑–∏
                  const parts = decision.split(/\s*\/\s*/).map(p => p.trim()).filter(p => p.length > 0)
                  parts.forEach(part => {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —ç–º–æ–¥–∑–∏ –≤ –Ω–∞—á–∞–ª–µ
                    const emojiMatch = part.match(/^([‚û°Ô∏è‚Ü∫‚õî])\s*(.+)/)
                    if (emojiMatch) {
                      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å —ç–º–æ–¥–∑–∏
                      words.add(part)
                    } else {
                      // –î–æ–±–∞–≤–ª—è–µ–º —ç–º–æ–¥–∑–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
                      let partWithEmoji = part
                      const lowerPart = part.toLowerCase()
                      if (lowerPart.includes('–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç') || lowerPart.includes('–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å') || lowerPart.includes('–ø–µ—Ä–µ—Ö–æ–¥')) {
                        partWithEmoji = '‚û°Ô∏è ' + part
                      } else if (lowerPart.includes('—Å—Ç–æ–ø') || lowerPart.includes('–æ—Ç—Å–µ—á—å') || lowerPart.includes('–æ—Å—Ç–∞–Ω–æ–≤–∫–∞') || lowerPart.includes('—Ñ–∏–ª—å—Ç—Ä')) {
                        partWithEmoji = '‚õî ' + part
                      } else if (lowerPart.includes('—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å') || lowerPart.includes('—Å–º–µ–Ω–∏—Ç—å') || lowerPart.includes('–ø–æ–Ω–∏–∑–∏—Ç—å') || 
                                 lowerPart.includes('—É—Å–∏–ª–∏—Ç—å') || lowerPart.includes('–ø—Ä–æ–≥—Ä–µ–≤') || lowerPart.includes('—É–ø—Ä–æ—Å—Ç–∏—Ç—å') || 
                                 lowerPart.includes('–ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å') || lowerPart.includes('–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å') || lowerPart.includes('–∏–∑–º–µ–Ω–∏—Ç—å') ||
                                 lowerPart.includes('–¥–æ—Ä–∞–±–æ—Ç–∫–∞')) {
                        partWithEmoji = '‚Ü∫ ' + part
                      }
                      words.add(partWithEmoji)
                    }
                  })
                })
                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ–º —á–µ—Ä–µ–∑ "/"
                return Array.from(words).sort().join(' / ')
              })()
              
              // –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Ç–∞–±–ª–∏—Ü—ã
              const fields = []
              
              // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Ç–∞–±–ª–∏—Ü—ã
              let whatLabel = '–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º (–Ω–∞–±–ª—é–¥–∞–µ–º)'
              let resultsLabel = '–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏)'
              let meaningLabel = '–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç'
              
              if (selectedTableData.id === 'traffic') {
                whatLabel = '–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º (–∫–∞–∫ –≤—Ö–æ–¥–∏—Ç)'
                resultsLabel = '–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã)'
                meaningLabel = '–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –¥–ª—è –≥–∏–ø–æ—Ç–µ–∑—ã'
              } else if (selectedTableData.id === 'prelanding') {
                whatLabel = '–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º (—á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º)'
                resultsLabel = '–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ —Ä–µ–∞–∫—Ü–∏–∏)'
                meaningLabel = '–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –¥–ª—è –≥–∏–ø–æ—Ç–µ–∑—ã'
              } else if (selectedTableData.id === 'analysis') {
                whatLabel = '–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º (—á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º)'
                resultsLabel = '–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã)'
                meaningLabel = '–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –¥–ª—è –≥–∏–ø–æ—Ç–µ–∑—ã'
              } else if (selectedTableData.id === 'hypothesis') {
                whatLabel = '–ß—Ç–æ —Å–≤–æ–¥–∏–º –≤–º–µ—Å—Ç–µ (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö)'
                resultsLabel = '–í–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–≤–æ–¥–æ–≤ –ø–æ –≥–∏–ø–æ—Ç–µ–∑–µ'
                meaningLabel = '–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏'
              }
              
              if (hasSource) {
                fields.push({ 
                  label: '–ò—Å—Ç–æ—á–Ω–∏–∫ —Ç—Ä–∞—Ñ–∏–∫–∞ (–æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à—ë–ª)', 
                  values: sourceValues, 
                  key: 'source' 
                })
              }
              fields.push(
                { 
                  label: whatLabel, 
                  values: whatValues, 
                  key: 'what' 
                },
                { 
                  label: resultsLabel, 
                  values: resultsValues, 
                  key: 'results', 
                  preLine: true 
                },
                { 
                  label: meaningLabel, 
                  values: meaningValues, 
                  key: 'meaning' 
                }
              )
              
              // –î–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å 5 –ø–æ–ª—è–º–∏ (—Å source) - –ø–µ—Ä–≤—ã–µ 4 –≤ —Å–µ—Ç–∫–µ, —Ä–µ—à–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ
              // –î–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å 4 –ø–æ–ª—è–º–∏ (–±–µ–∑ source) - –≤—Å–µ 4 –≤ —Å–µ—Ç–∫–µ, —Ä–µ—à–µ–Ω–∏–µ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
              const isFourFields = !hasSource
              
              if (isFourFields) {
                // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ—à–µ–Ω–∏–µ –∫–∞–∫ 4-–µ –ø–æ–ª–µ –≤ —Å–µ—Ç–∫—É
                fields.push({
                  label: '–†–µ—à–µ–Ω–∏–µ',
                  values: [decisionText],
                  key: 'decision',
                  isDecision: true
                })
                const gridFields = fields.slice(0, 4)
                
                return (
                  <div className="audience-table-cards">
                    <div className="audience-table-card">
                      {/* –°–µ—Ç–∫–∞ 2x2 –¥–ª—è –≤—Å–µ—Ö 4 –ø–æ–ª–µ–π, –≤–∫–ª—é—á–∞—è —Ä–µ—à–µ–Ω–∏–µ */}
                      <div className="table-card-grid">
                        {gridFields.map((field) => (
                          <div 
                            key={field.key} 
                            className={`table-card-field ${field.isDecision ? 'table-card-decision-field' : ''}`}
                          >
                            <div className="table-card-label">{field.label}</div>
                            <div 
                              className={field.isDecision ? "table-card-value table-card-decision" : "table-card-value"}
                              style={field.preLine ? { whiteSpace: 'pre-line' } : {}}
                            >
                              {field.isDecision ? (
                                decisionText
                              ) : (
                                <ul className="table-card-list">
                                  {field.values.map((value, idx) => (
                                    <li key={idx}>{value}</li>
                                  ))}
                                </ul>
                              )}
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>
                )
              } else {
                // –î–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å 5 –ø–æ–ª—è–º–∏ - –ø–µ—Ä–≤—ã–µ 4 –≤ —Å–µ—Ç–∫–µ, —Ä–µ—à–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ
                const gridFields = fields.slice(0, 4)
                
                return (
                  <div className="audience-table-cards">
                    <div className="audience-table-card">
                      {/* –°–µ—Ç–∫–∞ 2x2 –¥–ª—è –ø–µ—Ä–≤—ã—Ö 4 –ø–æ–ª–µ–π */}
                      <div className="table-card-grid">
                        {gridFields.map((field) => (
                          <div key={field.key} className="table-card-field">
                            <div className="table-card-label">{field.label}</div>
                            <div 
                              className="table-card-value"
                              style={field.preLine ? { whiteSpace: 'pre-line' } : {}}
                            >
                              <ul className="table-card-list">
                                {field.values.map((value, idx) => (
                                  <li key={idx}>{value}</li>
                                ))}
                              </ul>
                            </div>
                          </div>
                        ))}
                      </div>
                      
                      {/* –ü–æ–ª–µ "–†–µ—à–µ–Ω–∏–µ" –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É - —Å–ø–ª–æ—à–Ω–æ–π —Ç–µ–∫—Å—Ç */}
                      <div className="table-card-field table-card-field-full table-card-decision-field">
                        <div className="table-card-label">–†–µ—à–µ–Ω–∏–µ</div>
                        <div className="table-card-value table-card-decision">
                          {decisionText}
                        </div>
                      </div>
                    </div>
                  </div>
                )
              }
            })()}
            
            {/* –ö–Ω–æ–ø–∫–∞ "–ö –¥–∏–∞–≥—Ä–∞–º–º–µ" –ø–æ–¥ —Ç–∞–±–ª–∏—Ü–∞–º–∏ */}
            <button 
              className="back-to-diagram-btn"
              onClick={() => scrollToDiagramBlock(selectedTableData.id)}
              title="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –±–ª–æ–∫—É –≤ –¥–∏–∞–≥—Ä–∞–º–º–µ"
            >
              <span className="btn-icon">‚Üó</span>
              <span className="btn-text">–ö –¥–∏–∞–≥—Ä–∞–º–º–µ</span>
            </button>
          </div>
        )}

        {/* –í—ã–≤–æ–¥ –ø–æ –ø–æ–¥—ç—Ç–∞–ø—É –Ω–∏–∂–µ —Ç–∞–±–ª–∏—Ü */}
        {activeTab === 'test' && (
          <div className="substage-conclusion">
            <h3>–í—ã–≤–æ–¥ –ø–æ –ø–æ–¥—ç—Ç–∞–ø—É ¬´–¢–µ—Å—Ç–æ–≤—ã–π¬ª</h3>
            <p>
              –ü–æ–¥—ç—Ç–∞–ø ¬´–¢–µ—Å—Ç–æ–≤—ã–π¬ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –æ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π –≥–∏–ø–æ—Ç–µ–∑—ã. 
              –ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Ñ–∏–∫–∞, –ø–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –ø—Ä–µ–ª–µ–Ω–¥–∏–Ω–≥–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è 
              —Ä–µ—à–µ–Ω–∏–µ –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏, –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –≥–∏–ø–æ—Ç–µ–∑—ã. –¢–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–º –≤—ã–≤–æ–¥–µ 
              –≤–æ–∑–º–æ–∂–µ–Ω –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–¥—ç—Ç–∞–ø—É ¬´–†–∞–±–æ—á–∏–π¬ª –∏ –¥–∞–ª—å–Ω–µ–π—à–∏–º —ç—Ç–∞–ø–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –≤–æ—Ä–æ–Ω–∫–∏.
            </p>
          </div>
        )}

        {activeTab === 'work' && (
          <div className="substage-conclusion">
            <h3>–í—ã–≤–æ–¥ –ø–æ –ø–æ–¥—ç—Ç–∞–ø—É ¬´–†–∞–±–æ—á–∏–π¬ª</h3>
            <p>
              –ü–æ–¥—ç—Ç–∞–ø ¬´–†–∞–±–æ—á–∏–π¬ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç —ç—Ç–∞–ø ¬´–ê—É–¥–∏—Ç–æ—Ä–∏—è¬ª –∏ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ª–µ–Ω–¥–∏–Ω–≥–∞ –∏ –≤–æ—Ä–æ–Ω–∫–∏. 
              –ù–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ —Ç—Ä–∞—Ñ–∏–∫–∞, —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏ –∏—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è 
              —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–∞–∂. –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∂–µ, —è—Å–Ω–æ—Å—Ç—å –£–¢–ü, 
              —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–Ω–∏–π) —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ª–µ–Ω–¥–∏–Ω–≥–∞ –∏ –≤–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂.
            </p>
          </div>
        )}
      </section>
    </div>
  )

  return (
    <div className="block-detail-container">
      <Header 
        onAvatarClick={onAvatarClick}
        onConsultation={onConsultation}
        onBack={onBack}
      />
      
      <div className="block-detail-content">
        {!isAudienceBlock && (
          <div className="block-detail-header">
            <img src={block.image} alt={block.name} className="block-detail-image" />
            <h1 className="block-detail-title">{block.name}</h1>
          </div>
        )}

        {isAudienceBlock ? (
          audienceContent
        ) : (
          <div className="block-detail-body">
            {/* –ê–≤—Ç–æ—Ä —Å —Ñ–æ—Ç–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ —á–∞—Ç–∞ */}
            <div className="chat-message">
              <img 
                src="/images/me.jpg" 
                alt="–ò–ª—å—è –ë–æ—Ä–º–æ—Ç–æ–≤" 
                className="chat-avatar" 
                onClick={onAvatarClick}
              />
              <div className="chat-bubble">
                <div className="chat-author">–ò–ª—å—è –ë–æ—Ä–º–æ—Ç–æ–≤</div>
                <p className="chat-text">{block.description}</p>
              </div>
            </div>
            
            {block.tech && block.tech.length > 0 && (
              <div className="tech-tools">
                <h4>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è:</h4>
                <div className="tech-tools-list">
                  {block.tech.map((tool, idx) => (
                    <span key={idx} className="tech-tool-badge">{tool}</span>
                  ))}
                </div>
              </div>
            )}
            
            <button className="consultation-btn" onClick={onConsultation}>
              –ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
            </button>
          </div>
        )}
      </div>
    </div>
  )
}

export default BlockDetail
